(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packageA/pages/detail/detail"],{163:function(e,n,t){"use strict";(function(e){t(5);o(t(3));var n=o(t(164));function o(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=t,e(n.default)}).call(this,t(1)["createPage"])},164:function(e,n,t){"use strict";t.r(n);var o=t(165),i=t(167);for(var r in i)"default"!==r&&function(e){t.d(n,e,(function(){return i[e]}))}(r);t(169);var u,c=t(11),a=Object(c["default"])(i["default"],o["render"],o["staticRenderFns"],!1,null,"202e5804",null,!1,o["components"],u);a.options.__file="packageA/pages/detail/detail.vue",n["default"]=a.exports},165:function(e,n,t){"use strict";t.r(n);var o=t(166);t.d(n,"render",(function(){return o["render"]})),t.d(n,"staticRenderFns",(function(){return o["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return o["recyclableRender"]})),t.d(n,"components",(function(){return o["components"]}))},166:function(e,n,t){"use strict";var o;t.r(n),t.d(n,"render",(function(){return i})),t.d(n,"staticRenderFns",(function(){return u})),t.d(n,"recyclableRender",(function(){return r})),t.d(n,"components",(function(){return o}));try{o={uSwiper:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-swiper/u-swiper")]).then(t.bind(null,225))},uSkeleton:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-skeleton/u-skeleton")]).then(t.bind(null,233))},"u-Image":function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u--image/u--image")]).then(t.bind(null,187))},uLoadingIcon:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-loading-icon/u-loading-icon")]).then(t.bind(null,193))},uIcon:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-icon/u-icon")]).then(t.bind(null,241))},uPopup:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-popup/u-popup")]).then(t.bind(null,217))},"u-Input":function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u--input/u--input")]).then(t.bind(null,250))},uEmpty:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-empty/u-empty")]).then(t.bind(null,209))}}}catch(c){if(-1===c.message.indexOf("Cannot find module")||-1===c.message.indexOf(".vue"))throw c;console.error(c.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var i=function(){var e=this,n=e.$createElement;e._self._c},r=!1,u=[];i._withStripped=!0},167:function(e,n,t){"use strict";t.r(n);var o=t(168),i=t.n(o);for(var r in o)"default"!==r&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=i.a},168:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(t(13)),i=r(t(16));function r(e){return e&&e.__esModule?e:{default:e}}function u(e,n){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=c(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,u=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return u=e.done,e},e:function(e){a=!0,r=e},f:function(){try{u||null==t.return||t.return()}finally{if(a)throw r}}}}function c(e,n){if(e){if("string"===typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,n):void 0}}function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function s(e,n,t,o,i,r,u){try{var c=e[r](u),a=c.value}catch(s){return void t(s)}c.done?n(a):Promise.resolve(a).then(o,i)}function l(e){return function(){var n=this,t=arguments;return new Promise((function(o,i){var r=e.apply(n,t);function u(e){s(r,o,i,u,c,"next",e)}function c(e){s(r,o,i,u,c,"throw",e)}u(void 0)}))}}var d={data:function(){return{title:"猫猫信息",photo_title:"照片集",pid:"",list:"",tabindex:"",commentList:"",loading:!0,show:!1,value:"",uid:1,pictureUrlList:[]}},methods:{backToLast:function(){var n=getCurrentPages();n[n.length-2]?e.navigateBack({url:n[n.length-2].route}):e.switchTab({url:"../../../pages/index/index"})},toUser:function(){e.switchTab({url:"../../../pages/mine/mine"})},previewImg:function(n){e.previewImage({current:""+n,urls:this.pictureUrlList})},islike:function(){var n=this;return l(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("1"!=n.uid){t.next=6;break}return t.next=3,e.showModal({content:"请先登录",showCancel:!1});case 3:n.toUser(),t.next=7;break;case 6:i.default.picLike({uid:n.uid,pid:n.list.pictureList[0].pid}).then((function(e){"操作成功"==e&&(n.list.pictureList[0].islike=!n.list.pictureList[0].islike)})).catch((function(e){console.log(e)}));case 7:case"end":return t.stop()}}),t)})))()},comment:function(){var n=this;return l(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=n.uid){t.next=6;break}return t.next=3,e.showModal({content:"请先登录",showCancel:!1});case 3:n.toUser(),t.next=7;break;case 6:n.show=!n.show;case 7:case"end":return t.stop()}}),t)})))()},commentPost:function(){var n=this;""==this.value?e.showModal({content:"请输入后提交评论",showCancel:!1}):1==this.tabindex?i.default.comment({uid:this.uid,content:this.value,cid:this.list.cid}).then((function(t){n.commentList=t;var o,i=u(n.commentList);try{for(i.s();!(o=i.n()).done;){var r=o.value;r.profile_photo=r.user.profile_photo,r.name=r.user.name}}catch(c){i.e(c)}finally{i.f()}n.show=!1,n.value="",e.showModal({content:"评论成功",showCancel:!1})})).catch((function(n){console.log(n),e.showModal({content:"评论失败",showCancel:!1})})):i.default.comment({uid:this.uid,content:this.value,fid:this.list.fid}).then((function(t){n.commentList=t;var o,i=u(n.commentList);try{for(i.s();!(o=i.n()).done;){var r=o.value;r.profile_photo=r.user.profile_photo,r.name=r.user.name}}catch(c){i.e(c)}finally{i.f()}n.show=!1,n.value="",e.showModal({content:"评论成功",showCancel:!1})})).catch((function(n){console.log(n),e.showModal({content:"评论失败",showCancel:!1})}))},commentDelete:function(n,t){var r=this;return l(o.default.mark((function u(){return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(1!=r.uid){o.next=6;break}return o.next=3,e.showModal({content:"请先登录",showCancel:!1});case 3:r.toUser(),o.next=7;break;case 6:e.showModal({content:"确认删除吗",success:function(o){o.confirm?i.default.commentDelete({uid:r.uid,id:n}).then((function(n){1==n?(e.showModal({content:"删除成功",showCancel:!1}),r.commentList.splice(t,1)):e.showModal({content:"不是你发表的噢，无法删除",showCancel:!1})})).catch((function(e){console.log(e)})):o.cancel}});case 7:case"end":return o.stop()}}),u)})))()}},onLoad:function(n){var t=this;this.uid=e.getStorageSync("uid")?e.getStorageSync("uid"):"1";var o=getCurrentPages();o[o.length-2]&&("packageA/pages/list/list"==o[o.length-2].route||"pages/mine/mine"==o[o.length-2].route)?this.tabindex=e.getStorageSync("categoryindex"):this.tabindex=n.tabindex,1==this.tabindex?i.default.catDetail({uid:this.uid,pid:n.data}).then((function(e){t.list=e,t.commentList=e.commentList,t.loading=!1;var n,o=u(e.pictureList);try{for(o.s();!(n=o.n()).done;){var i=n.value;t.pictureUrlList.push(i.store)}}catch(r){o.e(r)}finally{o.f()}})).catch((function(e){console.log(e)})):(this.title="花花信息",i.default.flowerDetail({uid:this.uid,pid:n.data}).then((function(e){t.list=e,t.loading=!1,t.commentList=e.commentList;var n,o=u(e.pictureList);try{for(o.s();!(n=o.n()).done;){var i=n.value;t.pictureUrlList.push(i.store)}}catch(r){o.e(r)}finally{o.f()}})).catch((function(e){console.log(e)})))},onShareAppMessage:function(e){return"button"===e.from&&console.log(e.target),{title:"狮山图tututu鉴",path:"/packageA/pages/detail/detail?data=".concat(this.listpictureList[0].pid,"&tabindex=").concat(this.tabindex),imageUrl:this.list.pictureList[0].store}}};n.default=d}).call(this,t(1)["default"])},169:function(e,n,t){"use strict";t.r(n);var o=t(170),i=t.n(o);for(var r in o)"default"!==r&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=i.a},170:function(e,n,t){}},[[163,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/packageA/pages/detail/detail.js.map